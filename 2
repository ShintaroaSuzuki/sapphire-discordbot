import { SubCommandPluginCommand } from '@sapphire/plugin-subcommands';
import { Command, Args, UserError } from '@sapphire/framework'
import type { Message } from 'discord.js';

export class TaskCommand extends SubCommandPluginCommand {
  public constructor(context: Command.Context, options: Command.Options) {
    super(context, {
      ...options,
      name: 'createtask',
      aliases: ['task'],
      description: 'create new page in notion database'
    })
  }

	public async messageRun(message: Message, args: Args) {
    try {
      const stringArgs = await args.repeat('string')
      return message.channel.send(`first arguments is ${stringArgs[0]}`);
    } catch(e) {
      if (e instanceof UserError) {
        return message.channel.send(`引数は1個以上指定してください`)
      }
    // 引数がなかった場合の処理
    // 引数が1個か2個かでも挙動が変わる
      return console.log(e)
    }
	}
}
